# =============================================================================
# K2A Agent Chart - Default Values
# =============================================================================
#
# Este chart despliega el Agent de K2A con referencias a MCPServer (kmcp).
# Los valores por defecto son genéricos - sobreescribir en argocd/values/
#
# ARQUITECTURA:
#   - Namespace 'k2a': Agent + MCP Servers (unificado)
#   - Namespace 'kagent': Solo operador kagent (controller, ui, tools)
#
# PREREQUISITO: Crear el secret de OpenAI antes de desplegar
#   kubectl create namespace k2a
#   kubectl create secret generic kagent-openai \
#     --namespace k2a \
#     --from-literal=OPENAI_API_KEY="sk-..."
#
# =============================================================================

# Namespace unificado para Agent y MCP Servers
global:
  namespace: k2a

# =============================================================================
# ModelConfig - Configuración del modelo LLM
# =============================================================================
modelConfig:
  create: true
  name: default-model-config
  provider: OpenAI
  model: gpt-4o-mini
  secretRef:
    name: kagent-openai
    key: OPENAI_API_KEY
  # temperature: 0.7
  # maxTokens: 4096

# =============================================================================
# Agent Configuration
# =============================================================================
agent:
  name: k2a-enterprise-monitoring
  namespace: k2a
  modelConfig: default-model-config
  # System message - override in environment values
  systemMessage: |
    You are K2A, an AI agent for Kubernetes enterprise monitoring.
  # ConfigMap for system message (scalable option)
  systemMessageConfigMap:
    enabled: false
    create: false
    name: k2a-system-prompt
    key: system-prompt
  # Memory for RAG (Pinecone)
  memory:
    enabled: false
    name: k2a-memory
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

# =============================================================================
# MCPServer References (kmcp)
# =============================================================================
# El Agent referencia MCPServer CRDs en el mismo namespace.
# Estos deben coincidir con los nombres de los MCPServers desplegados por kmcp-servers.
#
# Ejemplo:
#   mcpServers:
#     prometheus:
#       enabled: true
#       name: prometheus-mcp
#       tools:
#         - query
#         - queryRange
#
mcpServers: {}

# =============================================================================
# A2A Skills
# =============================================================================
# Skills expuestas por el agente via protocolo A2A.
#
# Ejemplo:
#   a2aSkills:
#     - id: alert-monitoring
#       name: Alert Monitoring
#       description: Monitor alerts
#       examples:
#         - What alerts are firing?
#       tags:
#         - alerts
#       inputModes:
#         - text
#       outputModes:
#         - text
#
a2aSkills: []

# =============================================================================
# Labels
# =============================================================================
labels:
  app.kubernetes.io/part-of: k2a-enterprise-monitoring
  app.kubernetes.io/managed-by: argocd

# =============================================================================
# Network Policy
# =============================================================================
networkPolicy:
  enabled: false

# =============================================================================
# Monitoring
# =============================================================================
monitoring:
  serviceMonitor:
    enabled: false
    path: /metrics
    interval: 30s
    scrapeTimeout: 10s
  prometheusRule:
    enabled: false

# =============================================================================
# Autoscaling (HPA)
# =============================================================================
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage: 80

# =============================================================================
# Pod Disruption Budget
# =============================================================================
podDisruptionBudget:
  enabled: false
  minAvailable: 1
  # maxUnavailable: 1
